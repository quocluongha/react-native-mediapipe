{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_reactNativeVisionCamera","_types","_convert","_reactNativeWorkletsCore","e","__esModule","default","FaceLandmarkDetection","NativeModules","eventEmitter","NativeEventEmitter","plugin","VisionCameraProxy","initFrameProcessorPlugin","Error","getFaceLandmarkDetectionModule","undefined","faceLandmarkDetectionModuleConstants","getConstants","detectorMap","Map","addListener","args","callbacks","get","handle","onResults","viewCoordinator","onError","useFaceLandmarkDetection","runningMode","model","options","detectorHandle","setDetectorHandle","React","useState","cameraViewDimensions","setCameraViewDimensions","width","height","outputOrientation","useSharedValue","frameOrientation","forceOutputOrientation","forceCameraOrientation","cameraViewLayoutChangeHandler","useCallback","event","nativeEvent","layout","useEffect","value","mirrorMode","Platform","select","android","cameraDevice","setCameraDevice","resizeMode","setResizeMode","mirrored","useMemo","position","updateDetectorMap","BaseViewCoordinator","set","useLayoutEffect","newHandle","createDetector","numFaces","minFaceDetectionConfidence","minFacePresenceConfidence","minTrackingConfidence","delegate","Delegate","GPU","then","releaseDetector","updateDetectorMapFromWorklet","useRunOnJS","frameProcessor","useFrameProcessor","frame","orientation","fpsMode","call","runAtTargetFps","cameraDeviceChangeHandler","d","cameraOrientationChangedHandler","o","resizeModeChangeHandler","faceLandmarkDetectionOnImage","imagePath","detectOnImage"],"sourceRoot":"../../../src","sources":["faceLandmarkDetection/index.ts"],"mappings":"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","ignoreList":[]}
