{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_reactNativeVisionCamera","_types","_convert","_reactNativeWorkletsCore","e","__esModule","default","PoseDetection","NativeModules","eventEmitter","NativeEventEmitter","plugin","VisionCameraProxy","initFrameProcessorPlugin","Error","getPoseDetectionModule","undefined","detectorMap","Map","addListener","args","callbacks","get","handle","onResults","viewCoordinator","onError","usePoseDetection","runningMode","model","options","detectorHandle","setDetectorHandle","React","useState","cameraViewDimensions","setCameraViewDimensions","width","height","cameraViewLayoutChangeHandler","useCallback","event","nativeEvent","layout","outputOrientation","useSharedValue","frameOrientation","forceOutputOrientation","forceCameraOrientation","useEffect","value","mirrorMode","Platform","select","android","cameraDevice","setCameraDevice","mirrored","useMemo","position","resizeMode","setResizeMode","updateDetectorMap","BaseViewCoordinator","set","useLayoutEffect","newHandle","console","log","delegate","createDetector","numPoses","minPoseDetectionConfidence","minPosePresenceConfidence","minTrackingConfidence","shouldOutputSegmentationMasks","Delegate","GPU","then","catch","error","releaseDetector","updateDetectorMapFromWorklet","useRunOnJS","frameProcessor","useFrameProcessor","frame","orientation","fpsMode","call","runAtTargetFps","cameraDeviceChangeHandler","d","sensorOrientation","cameraOrientationChangedHandler","o","resizeModeChangeHandler","PoseDetectionOnImage","imagePath","detectOnImage","KnownPoseLandmarks","exports","nose","leftEyeInner","leftEye","leftEyeOuter","rightEyeInner","rightEye","rightEyeOuter","leftEar","rightEar","mouthLeft","mouthRight","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftPinky","rightPinky","leftIndex","rightIndex","leftThumb","rightThumb","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle","leftHeel","rightHeel","leftFootIndex","rightFootIndex","KnownPoseLandmarkConnections"],"sourceRoot":"../../../src","sources":["poseDetection/index.ts"],"mappings":";;;;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AAMA,IAAAE,wBAAA,GAAAF,OAAA;AAOA,IAAAG,MAAA,GAAAH,OAAA;AAaA,IAAAI,QAAA,GAAAJ,OAAA;AACA,IAAAK,wBAAA,GAAAL,OAAA;AAAwE,SAAAD,uBAAAO,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAExE,MAAM;EAAEG;AAAc,CAAC,GAAGC,0BAAa;AACvC,MAAMC,YAAY,GAAG,IAAIC,+BAAkB,CAACH,aAAa,CAAC;AAE1D,MAAMI,MAAM,GAAGC,0CAAiB,CAACC,wBAAwB,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;AAE9E,IAAI,CAACF,MAAM,EAAE;EACX,MAAM,IAAIG,KAAK,CAAC,2CAA2C,CAAC;AAC9D;AAqDA,SAASC,sBAAsBA,CAAA,EAAwB;EACrD,IAAIR,aAAa,KAAKS,SAAS,IAAIT,aAAa,KAAK,IAAI,EAAE;IACzD,MAAM,IAAIO,KAAK,CAAC,uCAAuC,CAAC;EAC1D;EACA,OAAOP,aAAa;AACtB;AAEA,MAAMU,WAAW,GAAG,IAAIC,GAAG,CAAqC,CAAC;AACjET,YAAY,CAACU,WAAW,CACtB,WAAW,EACVC,IAAoD,IAAK;EACxD,MAAMC,SAAS,GAAGJ,WAAW,CAACK,GAAG,CAACF,IAAI,CAACG,MAAM,CAAC;EAC9C,IAAIF,SAAS,EAAE;IACbA,SAAS,CAACG,SAAS,CAACJ,IAAI,EAAEC,SAAS,CAACI,eAAe,CAAC;EACtD;AACF,CACF,CAAC;AACDhB,YAAY,CAACU,WAAW,CACtB,SAAS,EACRC,IAAyC,IAAK;EAC7C,MAAMC,SAAS,GAAGJ,WAAW,CAACK,GAAG,CAACF,IAAI,CAACG,MAAM,CAAC;EAC9C,IAAIF,SAAS,EAAE;IACbA,SAAS,CAACK,OAAO,CAACN,IAAI,CAAC;EACzB;AACF,CACF,CAAC;AAEM,SAASO,gBAAgBA,CAC9BN,SAAwD,EACxDO,WAAwB,EACxBC,KAAa,EACbC,OAAuC,EACpB;EACnB,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGC,cAAK,CAACC,QAAQ,CAExD,CAAC;EAEH,MAAM,CAACC,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGH,cAAK,CAACC,QAAQ,CAGnE;IAAEG,KAAK,EAAE,CAAC;IAAEC,MAAM,EAAE;EAAE,CAAC,CAAC;EAE3B,MAAMC,6BAA6B,GAAGN,cAAK,CAACO,WAAW,CACpDC,KAAwB,IAAK;IAC5BL,uBAAuB,CAAC;MACtBE,MAAM,EAAEG,KAAK,CAACC,WAAW,CAACC,MAAM,CAACL,MAAM;MACvCD,KAAK,EAAEI,KAAK,CAACC,WAAW,CAACC,MAAM,CAACN;IAClC,CAAC,CAAC;EACJ,CAAC,EACD,EACF,CAAC;EACD,MAAMO,iBAAiB,GAAG,IAAAC,uCAAc,EAAc,UAAU,CAAC;EACjE,MAAMC,gBAAgB,GAAG,IAAAD,uCAAc,EAAc,UAAU,CAAC;EAEhE,MAAME,sBAAsB,GAAG,IAAAF,uCAAc,EAC3C7B,SACF,CAAC;EACD,MAAMgC,sBAAsB,GAAG,IAAAH,uCAAc,EAC3C7B,SACF,CAAC;EAEDiB,cAAK,CAACgB,SAAS,CAAC,MAAM;IACpBD,sBAAsB,CAACE,KAAK,GAAGpB,OAAO,EAAEkB,sBAAsB;IAC9DD,sBAAsB,CAACG,KAAK,GAAGpB,OAAO,EAAEiB,sBAAsB;EAChE,CAAC,EAAE,CACDC,sBAAsB,EACtBD,sBAAsB,EACtBjB,OAAO,EAAEkB,sBAAsB,EAC/BlB,OAAO,EAAEiB,sBAAsB,CAChC,CAAC;EAEF,MAAMI,UAAU,GACdrB,OAAO,EAAEqB,UAAU,IACnBC,qBAAQ,CAACC,MAAM,CAAC;IAAEC,OAAO,EAAE,mBAAmB;IAAEhD,OAAO,EAAE;EAAY,CAAC,CAAC;EACzE,MAAM,CAACiD,YAAY,EAAEC,eAAe,CAAC,GAAGvB,cAAK,CAACC,QAAQ,CAEpDlB,SAAS,CAAC;EACZ,MAAMyC,QAAQ,GAAGxB,cAAK,CAACyB,OAAO,CAAC,MAAe;IAC5C,IACGP,UAAU,KAAK,mBAAmB,IACjCI,YAAY,EAAEI,QAAQ,KAAK,OAAO,IACpCR,UAAU,KAAK,QAAQ,EACvB;MACA,OAAO,IAAI;IACb,CAAC,MAAM;MACL,OAAO,KAAK;IACd;EACF,CAAC,EAAE,CAACI,YAAY,EAAEI,QAAQ,EAAER,UAAU,CAAC,CAAC;EAExC,MAAM,CAACS,UAAU,EAAEC,aAAa,CAAC,GAAG5B,cAAK,CAACC,QAAQ,CAAa,OAAO,CAAC;EAEvE,MAAM;IAAEV,SAAS;IAAEE;EAAQ,CAAC,GAAGL,SAAS;EAExC,MAAMyC,iBAAiB,GAAG7B,cAAK,CAACO,WAAW,CAAC,MAAM;IAChD,IAAIT,cAAc,KAAKf,SAAS,EAAE;MAChC,MAAMS,eAAe,GAAG,IAAIsC,4BAAmB,CAC7C5B,oBAAoB,EACpBsB,QAAQ,EACRT,sBAAsB,CAACE,KAAK,IAAIJ,gBAAgB,CAACI,KAAK,EACtDH,sBAAsB,CAACG,KAAK,IAAIN,iBAAiB,CAACM,KAAK,EACvDU,UACF,CAAC;MACD3C,WAAW,CAAC+C,GAAG,CAACjC,cAAc,EAAE;QAC9BP,SAAS;QACTE,OAAO;QACPD;MACF,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CACDU,oBAAoB,EACpBJ,cAAc,EACdiB,sBAAsB,CAACE,KAAK,EAC5BH,sBAAsB,CAACG,KAAK,EAC5BJ,gBAAgB,CAACI,KAAK,EACtBO,QAAQ,EACR/B,OAAO,EACPF,SAAS,EACToB,iBAAiB,CAACM,KAAK,EACvBU,UAAU,CACX,CAAC;;EAEF;EACA3B,cAAK,CAACgC,eAAe,CAAC,MAAM;IAC1BH,iBAAiB,CAAC,CAAC;EACrB,CAAC,EAAE,CAACA,iBAAiB,CAAC,CAAC;EACvB7B,cAAK,CAACgB,SAAS,CAAC,MAAM;IACpB,IAAIiB,SAA6B;IACjCC,OAAO,CAACC,GAAG,CACT,sCAAsCtC,OAAO,EAAEuC,QAAQ,mBAAmBzC,WAAW,YAAYC,KAAK,EACxG,CAAC;IACDd,sBAAsB,CAAC,CAAC,CACrBuD,cAAc,CACbxC,OAAO,EAAEyC,QAAQ,IAAI,CAAC,EACtBzC,OAAO,EAAE0C,0BAA0B,IAAI,GAAG,EAC1C1C,OAAO,EAAE2C,yBAAyB,IAAI,GAAG,EACzC3C,OAAO,EAAE4C,qBAAqB,IAAI,GAAG,EACrC5C,OAAO,EAAE6C,6BAA6B,IAAI,KAAK,EAC/C9C,KAAK,EACLC,OAAO,EAAEuC,QAAQ,IAAIO,eAAQ,CAACC,GAAG,EACjCjD,WACF,CAAC,CACAkD,IAAI,CAAEvD,MAAM,IAAK;MAChB4C,OAAO,CAACC,GAAG,CACT,iCAAiC,EACjCxC,WAAW,EACXC,KAAK,EACLN,MACF,CAAC;MACDS,iBAAiB,CAACT,MAAM,CAAC;MACzB2C,SAAS,GAAG3C,MAAM;IACpB,CAAC,CAAC,CACDwD,KAAK,CAAE3E,CAAC,IAAK;MACZ+D,OAAO,CAACa,KAAK,CAAC,8BAA8B5E,CAAC,EAAE,CAAC;IAClD,CAAC,CAAC;IACJ,OAAO,MAAM;MACX+D,OAAO,CAACC,GAAG,CACT,kCAAkC,EAClC,iBAAiB,EACjBF,SACF,CAAC;MACD,IAAIA,SAAS,KAAKlD,SAAS,EAAE;QAC3BD,sBAAsB,CAAC,CAAC,CAACkE,eAAe,CAACf,SAAS,CAAC;MACrD;IACF,CAAC;EACH,CAAC,EAAE,CACDpC,OAAO,EAAEuC,QAAQ,EACjBzC,WAAW,EACXC,KAAK,EACLC,OAAO,EAAEyC,QAAQ,EACjBzC,OAAO,EAAE0C,0BAA0B,EACnC1C,OAAO,EAAE2C,yBAAyB,EAClC3C,OAAO,EAAE4C,qBAAqB,EAC9B5C,OAAO,EAAE6C,6BAA6B,CACvC,CAAC;EAEF,MAAMO,4BAA4B,GAAG,IAAAC,mCAAU,EAACrB,iBAAiB,EAAE,CACjEA,iBAAiB,CAClB,CAAC;EAEF,MAAMsB,cAAc,GAAG,IAAAC,0CAAiB,EACrCC,KAAK,IAAK;IACT,SAAS;;IACT;IACA;IACA;IACA;IACA,IAAIA,KAAK,CAACC,WAAW,KAAKzC,gBAAgB,CAACI,KAAK,EAAE;MAChDiB,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEkB,KAAK,CAACC,WAAW,CAAC;MAC5DzC,gBAAgB,CAACI,KAAK,GAAGoC,KAAK,CAACC,WAAW;MAC1CL,4BAA4B,CAAC,CAAC;IAChC;IACA;IACA;IACA;IACA;IACA,MAAMK,WAA6B,GACjCxC,sBAAsB,CAACG,KAAK,IAAIN,iBAAiB,CAACM,KAAK;IACzD;IACA,MAAMsC,OAAO,GAAG1D,OAAO,EAAE0D,OAAO,IAAI,MAAM;IAC1C,IAAIA,OAAO,KAAK,MAAM,EAAE;MACtB7E,MAAM,EAAE8E,IAAI,CAACH,KAAK,EAAE;QAClBvD,cAAc;QACdwD;MACF,CAAC,CAAC;IACJ,CAAC,MAAM;MACL,IAAAG,uCAAc,EAACF,OAAO,EAAE,MAAM;QAC5B7E,MAAM,EAAE8E,IAAI,CAACH,KAAK,EAAE;UAClBvD,cAAc;UACdwD;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;EACF,CAAC,EACD,CACExD,cAAc,EACdgB,sBAAsB,CAACG,KAAK,EAC5BJ,gBAAgB,EAChBhB,OAAO,EAAE0D,OAAO,EAChB5C,iBAAiB,CAACM,KAAK,EACvBgC,4BAA4B,CAEhC,CAAC;EACD,OAAOjD,cAAK,CAACyB,OAAO,CAClB,OAA0B;IACxBnB,6BAA6B;IAC7BoD,yBAAyB,EAAGC,CAAC,IAAK;MAChCpC,eAAe,CAACoC,CAAC,CAAC;MAClBzB,OAAO,CAACC,GAAG,CACT,2CAA2CwB,CAAC,EAAEC,iBAAiB,EACjE,CAAC;IACH,CAAC;IACDC,+BAA+B,EAAGC,CAAC,IAAK;MACtCnD,iBAAiB,CAACM,KAAK,GAAG6C,CAAC;MAC3B5B,OAAO,CAACC,GAAG,CAAC,6BAA6B2B,CAAC,EAAE,CAAC;IAC/C,CAAC;IACDC,uBAAuB,EAAEnC,aAAa;IACtC1B,oBAAoB;IACpBiD;EACF,CAAC,CAAC,EACF,CACEjD,oBAAoB,EACpBI,6BAA6B,EAC7B6C,cAAc,EACdxC,iBAAiB,CAErB,CAAC;AACH;AAEO,SAASqD,oBAAoBA,CAClCC,SAAiB,EACjBrE,KAAa,EACbC,OAAuC,EACH;EACpC,OAAOf,sBAAsB,CAAC,CAAC,CAACoF,aAAa,CAC3CD,SAAS,EACTpE,OAAO,EAAEyC,QAAQ,IAAI,CAAC,EACtBzC,OAAO,EAAE0C,0BAA0B,IAAI,GAAG,EAC1C1C,OAAO,EAAE2C,yBAAyB,IAAI,GAAG,EACzC3C,OAAO,EAAE4C,qBAAqB,IAAI,GAAG,EACrC5C,OAAO,EAAE6C,6BAA6B,IAAI,KAAK,EAC/C9C,KAAK,EACLC,OAAO,EAAEuC,QAAQ,IAAIO,eAAQ,CAACC,GAChC,CAAC;AACH;AAEO,MAAMuB,kBAAkB,GAAAC,OAAA,CAAAD,kBAAA,GAAG;EAChCE,IAAI,EAAE,CAAC;EACPC,YAAY,EAAE,CAAC;EACfC,OAAO,EAAE,CAAC;EACVC,YAAY,EAAE,CAAC;EACfC,aAAa,EAAE,CAAC;EAChBC,QAAQ,EAAE,CAAC;EACXC,aAAa,EAAE,CAAC;EAChBC,OAAO,EAAE,CAAC;EACVC,QAAQ,EAAE,CAAC;EACXC,SAAS,EAAE,CAAC;EACZC,UAAU,EAAE,EAAE;EACdC,YAAY,EAAE,EAAE;EAChBC,aAAa,EAAE,EAAE;EACjBC,SAAS,EAAE,EAAE;EACbC,UAAU,EAAE,EAAE;EACdC,SAAS,EAAE,EAAE;EACbC,UAAU,EAAE,EAAE;EACdC,SAAS,EAAE,EAAE;EACbC,UAAU,EAAE,EAAE;EACdC,SAAS,EAAE,EAAE;EACbC,UAAU,EAAE,EAAE;EACdC,SAAS,EAAE,EAAE;EACbC,UAAU,EAAE,EAAE;EACdC,OAAO,EAAE,EAAE;EACXC,QAAQ,EAAE,EAAE;EACZC,QAAQ,EAAE,EAAE;EACZC,SAAS,EAAE,EAAE;EACbC,SAAS,EAAE,EAAE;EACbC,UAAU,EAAE,EAAE;EACdC,QAAQ,EAAE,EAAE;EACZC,SAAS,EAAE,EAAE;EACbC,aAAa,EAAE,EAAE;EACjBC,cAAc,EAAE;AAClB,CAAC;AAEM,MAAMC,4BAA4B,GAAAlC,OAAA,CAAAkC,4BAAA,GAAG,CAC1C,CAAC,CAAC,EAAE,CAAC,CAAC,EACN,CAAC,CAAC,EAAE,CAAC,CAAC,EACN,CAAC,CAAC,EAAE,CAAC,CAAC,EACN,CAAC,CAAC,EAAE,CAAC,CAAC,EACN,CAAC,CAAC,EAAE,EAAE,CAAC,EACP,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,EACR,CAAC,EAAE,EAAE,EAAE,CAAC,CACT","ignoreList":[]}
