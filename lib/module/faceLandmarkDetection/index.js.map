{"version":3,"names":["React","NativeEventEmitter","NativeModules","Platform","VisionCameraProxy","runAtTargetFps","useFrameProcessor","Delegate","BaseViewCoordinator","useRunOnJS","useSharedValue","FaceLandmarkDetection","eventEmitter","plugin","initFrameProcessorPlugin","Error","getFaceLandmarkDetectionModule","undefined","faceLandmarkDetectionModuleConstants","getConstants","detectorMap","Map","addListener","args","callbacks","get","handle","onResults","viewCoordinator","onError","useFaceLandmarkDetection","runningMode","model","options","detectorHandle","setDetectorHandle","useState","cameraViewDimensions","setCameraViewDimensions","width","height","outputOrientation","frameOrientation","forceOutputOrientation","forceCameraOrientation","cameraViewLayoutChangeHandler","useCallback","event","nativeEvent","layout","useEffect","value","mirrorMode","select","android","default","cameraDevice","setCameraDevice","resizeMode","setResizeMode","mirrored","useMemo","position","updateDetectorMap","set","useLayoutEffect","newHandle","createDetector","numFaces","minFaceDetectionConfidence","minFacePresenceConfidence","minTrackingConfidence","delegate","GPU","then","releaseDetector","updateDetectorMapFromWorklet","frameProcessor","frame","orientation","fpsMode","call","cameraDeviceChangeHandler","d","cameraOrientationChangedHandler","o","resizeModeChangeHandler","faceLandmarkDetectionOnImage","imagePath","detectOnImage"],"sourceRoot":"../../../src","sources":["faceLandmarkDetection/index.ts"],"mappings":"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","ignoreList":[]}
